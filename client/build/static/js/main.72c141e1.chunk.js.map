{"version":3,"sources":["components/screens/Profile.js","components/Navbar.js","components/screens/Home.js","components/screens/Login.js","components/screens/Signup.js","components/screens/CreatePost.js","reducers/userReducer.js","components/screens/UserProfile.js","App.js","reportWebVitals.js","index.js"],"names":["Profile","useState","pics","setPics","useContext","userContext","state","dispatch","useEffect","fetch","headers","localStorage","getItem","then","res","json","result","mypost","className","src","name","map","item","photo","title","Navbar","history","useHistory","to","id","onClick","clear","type","push","Home","data","setData","posts","postedBy","_id","style","float","postId","method","newData","filter","likes","includes","body","JSON","stringify","catch","e","console","log","length","comments","comment","fontWeight","text","onSubmit","preventDefault","target","value","placeholder","Login","password","setPassword","email","setEmail","onChange","error","M","toast","html","setItem","token","user","payload","Signup","setName","validatePassword","test","validateEmail","message","CreatePost","setTitle","setBody","image","setImage","url","setUrl","pic","files","FormData","append","postDetails","reducer","action","UserProfile","userProfile","setUserProfile","userid","useParams","createContext","Routing","parse","exact","path","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72c141e1.chunk.js","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { userContext } from '../../App'\n\nconst Profile = () => {\n    const [pics, setPics] = useState([])\n    const { state, dispatch } = useContext(userContext)\n    useEffect(() => {\n        fetch('/mypost', {\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n            }\n        }).then(res => res.json())\n        .then(result => {\n            setPics(result.mypost)\n        })\n    }, [])\n    return (\n        <div className='profile'>\n            <div className='profileLand'>\n                <div className=\"profilePic\">\n                    <img src='https://images.unsplash.com/photo-1557862921-37829c790f19?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=751&q=80'/>\n                </div>\n                <div>\n                    <h3>{state ? state.name : 'loading'}</h3>\n                    <h5>email</h5>\n                    <div className='followState'>\n                        <p>1 pics</p>\n                        <p>1 followers</p>\n                        <p>1 following</p>\n                    </div>\n                </div>\n            </div>\n            <div className='gallery'>\n                {\n                    pics.map(item => {\n                        return (\n                            <img key={item.title} src={item.photo} />\n                        )\n                    })\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Profile","import React, { useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { userContext } from '../App'\nimport Profile from './screens/Profile'\n\nconst Navbar = () => {\n    const { state, dispatch } = useContext(userContext)\n    const history = useHistory()\n    const renderList = () => {\n        if(state) {\n            return [\n                <li><Link to=\"/profile\">Profile</Link></li>,\n                <li><Link to=\"/create\">Create Post</Link></li>,\n                <li>\n                    <button className='btn waves-effect waves-light' \n                        onClick={() => {\n                            localStorage.clear()\n                            dispatch({type: 'CLEAR'})\n                            history.push('/login')\n                        }}\n                    >\n                        LogOut\n                    </button>\n                </li>\n            ]\n        } else {\n            return [\n                <li><Link to=\"/login\">Login</Link></li>,\n                <li><Link to=\"/signup\">SignUp</Link></li>\n            ]\n        }\n    }\n    return (\n        <nav>\n            <div className=\"nav-wrapper white\">\n            <Link to={state ? '/' : '/login'} className=\"brand-logo left\">Instagram</Link>\n            <ul id=\"nav-mobile\" className=\"right\">\n                {renderList()}\n            </ul>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar","import React, { useContext, useEffect, useState } from 'react'\nimport { userContext } from '../../App'\nimport {Link} from 'react-router-dom'\n\n\nconst Home = () => {\n    const [data, setData] = useState([])\n    const { state, dispatch } = useContext(userContext)\n\n    useEffect(() => {\n        fetch('/allpost', {\n            headers: { \n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\n            }\n        }).then(res => res.json())\n        .then(result => {\n            setData(result.posts)\n        })\n    }, [])\n\n    const likePost = (id) => {\n        fetch('/like',{\n            method: 'put', \n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer '+ localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId: id\n            })\n        }).then(res => res.json())\n        .then(result => {\n            const newData = data.map(item => {\n                if(item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(e => {\n            console.log(e)\n        })\n    }\n\n    const unlikePost = (id) => {\n        fetch('/unlike',{\n            method: 'put', \n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer '+ localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId: id\n            })\n        }).then(res => res.json())\n        .then(result => {\n            const newData = data.map(item => {\n                if(item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(e => {\n            console.log(e)\n        })\n    }\n\n    const commentOnPost = (text, postId) => {\n        fetch('/comment',{\n            method: 'put', \n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer '+ localStorage.getItem('jwt')\n            },\n            body: JSON.stringify({\n                postId,\n                text\n            })\n        }).then(res => res.json())\n        .then(result => {\n            const newData = data.map(item => {\n                if(item._id === result._id) {\n                    return result\n                } else {\n                    return item\n                }\n            })\n            setData(newData)\n        }).catch(e => {\n            console.log(e)\n        })\n    }\n\n    const deletePost = (postId) => {\n        fetch(`/deletepost/${postId}`, {\n            method: 'delete',\n            headers: {\n                'Authorization': 'Bearer '+ localStorage.getItem('jwt') \n            }\n        }).then(res => res.json())\n        .then(result => {\n            const newData = data.filter(item => {\n                return item._id !== result._id\n            })\n            setData(newData)\n        })\n    }\n\n    return (\n        <div className='home'>\n            {\n                    data.map((item) => {\n                        return (\n                        <div key={item._id} className='homeposts'>\n                            <h4><Link to={item.postedBy._id !== state._id ? '/profile/'+item.postedBy._id : '/profile'}>{item.postedBy.name}</Link></h4>\n                            {\n                                item.postedBy._id === state._id && \n                                <i className='material-icons' \n                                    style={{float: \"right\"}}\n                                    onClick={() => deletePost(item._id)}\n                                >\n                                    delete\n                                </i>\n                            }\n                            <div className='homeImage'>\n                                <img src={item.photo} />\n                            </div>\n                            <div>\n                                { \n                                    item.likes.includes(state._id) ?\n                                        <i className=\"material-icons\"\n                                            onClick={()=>{unlikePost(item._id)}}\n                                        >thumb_down\n                                        </i>\n                                    : \n                                        <i className=\"material-icons\"\n                                            onClick={()=>{likePost(item._id)}}\n                                        >thumb_up\n                                        </i>\n                                }\n                                <span className='like-count'>{item.likes.length}</span>\n                                <p>{item.title}</p>\n                                <p>{item.body}</p>\n                                {\n                                    item.comments.map((comment) => {\n                                        return (\n                                            <p key={comment._id}>\n                                                <span style={{fontWeight: '500'}}>{comment.postedBy.name} </span>\n                                                {comment.text}\n                                            </p>\n                                        )\n                                    })\n                                }\n                                <form onSubmit={(e) => {\n                                    e.preventDefault()\n                                    commentOnPost(e.target[0].value, item._id)\n                                }}>\n                                    <input type='text' placeholder='comment'/>\n                                </form>\n                            </div>    \n                        </div>\n                        )\n                })\n            }\n        </div>\n\n    )\n}\n\nexport default Home","import React, { useState, useContext } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport M from 'materialize-css'\nimport { userContext } from '../../App'\n\nconst Login = () => {\n    const { state, dispatch } = useContext(userContext)\n    const history = useHistory()\n    const [password, setPassword] = useState('')\n    const [email, setEmail] = useState('')\n    const postData = () => {\n        fetch('/signin', {\n            method: \"post\",\n            headers: {\n                \"Content-Type\":\"application/json\"\n            },\n            body: JSON.stringify({\n                password,\n                email\n            })\n        }).then(res=>res.json())\n            .then(data => {\n                if(data.error) {\n                    M.toast({html: data.error})\n                } else { \n                    localStorage.setItem('jwt', data.token)\n                    localStorage.setItem('user', JSON.stringify(data.user))\n                    dispatch({type: 'USER', payload: data.user})\n                    M.toast({html: 'login successfully'})\n                    history.push('/')\n                }\n            }).catch(e => {\n                console.log(e)\n            })\n        }\n    return (\n        <div className='mycard'>\n            <div className='card auth-card'>\n                <h2>Instagram</h2>\n                <input \n                    type='text'\n                    placeholder='email'\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                />\n                <input \n                    type='password'\n                    placeholder='password'\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n                <button className='btn waves-effect waves-light' onClick={() => postData()}>\n                    Login\n                </button>\n                <h5>\n                    <Link to='/signup'>Don't have an account ?</Link>\n                </h5>\n            </div>\n        </div>\n    )\n}\n\nexport default Login","import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport M from 'materialize-css'\n\nconst Signup = () => {\n    const history = useHistory()\n    const [name, setName] = useState('')\n    const [password, setPassword] = useState('')\n    const [email, setEmail] = useState('')\n\n    var passregex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;\n    const emailregex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n    const validatePassword = passregex.test(password)\n    const validateEmail = emailregex.test(email)\n    const postData = () => {\n        if(validateEmail && validatePassword) {\n        fetch('/signup', {\n            method: \"post\",\n            headers: {\n                \"Content-Type\":\"application/json\"\n            },\n            body: JSON.stringify({\n                name,\n                password,\n                email\n            })\n        }).then(res=>res.json())\n            .then(data => {\n                if(data.error) {\n                    M.toast({html: data.error})\n                } else {\n                    M.toast({html: data.message})\n                    history.push('/login')\n                }\n            }).catch(e => {\n                console.log(e)\n            })\n        } else {\n            M.toast({html: 'Enter valid email address or password(password should between 6 to 20 characters which contain at least one numeric digit, one uppercase and one lowercase letter)'})\n        }\n    }\n    return (\n        <div className='mycard'>\n            <div className='card auth-card'>\n                <h2>Instagram</h2>\n                <input \n                    type='text'\n                    placeholder='name'\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                />\n                <input \n                    type='text'\n                    placeholder='email'\n                    value={email}\n                    onChange={(e) => setEmail(e.target.value)}\n                />\n                <input \n                    type='password'\n                    placeholder='password'\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                />\n                <button className='btn waves-effect waves-light' onClick={() => postData()}>\n                    Signup\n                </button>\n                <h5>\n                    <Link to='/login'>Already have an account ?</Link>\n                </h5>\n            </div>\n        </div>\n    )\n}\n\nexport default Signup","import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport M from 'materialize-css'\n\nconst CreatePost = () => {\n    const history = useHistory()\n    const [title, setTitle] = useState('')\n    const [body, setBody] = useState('')\n    const [image , setImage] = useState('')\n    const [url , setUrl] = useState('')\n\n    useEffect(() => {\n        if(url) {\n            fetch('/createpost', {\n                method: \"post\",\n                headers: {\n                    \"Content-Type\":\"application/json\",\n                    \"Authorization\": \"Bearer \" + localStorage.getItem('jwt')\n                },\n                body: JSON.stringify({\n                    title,\n                    body,\n                    pic: url    \n                })\n            }).then(res=>res.json())\n                .then(data => {\n                    if(data.error) {\n                        M.toast({html: data.error})\n                    } else {\n                        M.toast({html: 'posted successfully'})\n                        history.push('/')\n                    }\n                }).catch(e => {\n                    console.log(e)\n                })\n        }\n    },[url])\n\n    const postDetails = () => {\n        const data = new FormData()\n        data.append('file', image)\n        data.append('upload_preset', 'insta-clone')\n        data.append('cloud_name', 'panther123')\n        fetch('https://api.cloudinary.com/v1_1/panther123/image/upload', {\n            method: 'post',\n            body: data\n        }).then(res => res.json())\n        .then(data => {\n            setUrl(data.url)\n        }).catch(e => {\n            console.log(e)\n        })\n        \n    }\n    return (\n        <div className='createPost'>\n            <input \n                type = 'text'\n                placeholder = 'title'\n                value = {title}\n                onChange={(e) => setTitle(e.target.value)}\n            />\n            <input \n                type = 'text' \n                placeholder = 'body'\n                value = {body}\n                onChange = {(e) => setBody(e.target.value)}\n            />\n            <div className=\"file-field input-field\">\n                <div className=\"btn\">\n                    <span>File</span>\n                    <input \n                        type=\"file\"\n                        onChange = {(e) => setImage(e.target.files[0])}     \n                    />\n                </div>\n                <div className=\"file-path-wrapper\">\n                    <input className=\"file-path validate\" type=\"text\" />\n                </div>\n                <button className='btn waves-effect waves-light postbtn' onClick={() => postDetails()}>\n                    post\n                </button>\n            </div>\n        </div>\n    )\n}\n\nexport default CreatePost","export const initialState = null\n\nexport const reducer = (state, action) => {\n    if(action.type == 'USER') {\n        return action.payload\n    }\n    if(action.type == 'CLEAR') {\n        return null\n    }\n    return state\n}","import React, { useContext, useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { userContext } from '../../App'\n\nconst UserProfile = () => {\n    const [userProfile, setUserProfile] = useState(null)\n    const { state, dispatch } = useContext(userContext)\n    const {userid} = useParams()\n\n    useEffect(() => {\n        fetch(`/user/${userid}`, {\n            headers: {\n                'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n            }\n        }).then(res => res.json())\n        .then(result => {\n            setUserProfile(result)\n        })\n    }, [])\n    return (\n        <>\n        {userProfile ?\n        <div className='profile'>\n            <div className='profileLand'>\n                <div className=\"profilePic\">\n                    <img src='https://images.unsplash.com/photo-1557862921-37829c790f19?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=751&q=80'/>\n                </div>\n                <div>\n                    <h3>{userProfile.user.name}</h3>\n                    <h5>{userProfile.user.email}</h5>\n                    <div className='followState'>\n                        <p>{userProfile.posts.length}</p>\n                        <p>1 followers</p>\n                        <p>1 following</p>\n                    </div>\n                </div>\n            </div>\n            <div className='gallery'>\n                {\n                    userProfile.posts.map(item => {\n                        return (\n                            <img key={item._id} src={item.photo} />\n                        )\n                    })\n                }\n            </div>\n        </div>\n        : <h3>loading...</h3>\n            }\n        </>\n    )\n}\n\nexport default UserProfile","import React, { useEffect, createContext, useContext, useReducer} from 'react'\nimport { BrowserRouter, Route, useHistory } from 'react-router-dom'\nimport Navbar from './components/Navbar'\nimport './App.css'\nimport Home from './components/screens/Home'\nimport Login from './components/screens/Login'\nimport Signup from './components/screens/Signup'\nimport Profile from './components/screens/Profile'\nimport CreatePost from './components/screens/CreatePost'\nimport { reducer, initialState } from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile'\n\n\nexport const userContext = createContext()\n\nconst Routing = () => {\n  const history = useHistory()\n  const { state, dispatch } = useContext(userContext)\n  \n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'))\n    if(user) {\n      dispatch({type: 'USER', payload: user})\n    } else {\n      history.push('/login')\n    }\n  }, [])\n\n  return (\n    <>\n      <Route exact path='/'>\n        <Home />\n      </Route>\n      <Route path='/login'>\n        <Login />\n      </Route>\n      <Route path='/signup'>\n        <Signup />\n      </Route>\n      <Route exact path='/profile'>\n        <Profile />\n      </Route>\n      <Route path='/create'>\n        <CreatePost />\n      </Route>\n      <Route path='/profile/:userid'>\n        <UserProfile />\n      </Route>\n    </>\n  )\n}\n\nfunction App() {\n  const [ state, dispatch ] = useReducer(reducer, initialState)\n  return (\n    <userContext.Provider value = {{state, dispatch}}>\n      <BrowserRouter>\n        <Navbar />\n        <Routing />\n      </BrowserRouter>\n    </userContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}